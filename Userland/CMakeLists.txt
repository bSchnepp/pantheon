LIST(APPEND SYSM_SOURCES sysm/sysm.hpp)
LIST(APPEND SYSM_SOURCES sysm/sysm_Main.cpp)

LIST(APPEND PRGM_SOURCES prgm/prgm_Main.cpp)

LIST(APPEND USERLAND_SOURCES ${SYSM_SOURCES})
LIST(APPEND USERLAND_SOURCES ${PRGM_SOURCES})

LIST(APPEND ARCH_SOURCES SDK/sys.S)
LIST(APPEND ARCH_SOURCES SDK/init.S)

ADD_EXECUTABLE(sysm ${SYSM_SOURCES} ${ARCH_SOURCES} sysm/sysm.cpp)
ADD_EXECUTABLE(prgm ${PRGM_SOURCES} ${ARCH_SOURCES} prgm/prgm.cpp)

SET_TARGET_PROPERTIES(sysm PROPERTIES LINK_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/linkin.ld)
SET_TARGET_PROPERTIES(prgm PROPERTIES LINK_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/linkin.ld)

ADD_LIBRARY(Userland STATIC
	${USERLAND_HEADERS}
	${USERLAND_SOURCES}
	${ARCH_SOURCES})